<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
  <link rel="stylesheet" type="text/css" href="../../../mathBlogStyle.css">

  <script type="text/javascript" src="../../../jquery_3.4.1.js"></script>
  <script type="text/javascript" src="../../../menu.js"></script> 
  <script type="text/javascript" src="../../../mathBlogMain.js"></script> 
  <script type="text/x-mathjax-config">
    configureMathJax();
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script>  
</head>

<body>
  <div id="menu"></div>

  <div class="mainText">
    <div class="article">
      <h2 class="title" date=""></h2>

 <h3>Algorithm "nosov" continuous fractions</h3>
Here we reproduce the algorithm "vytiagivanija nosov", 
which I learnt in  the book of Arnold.
<br>
   Let  $\e,\f$  be standard basis in  ${\bf R}^2$.
$\e=(1,0)$, and $\f=(0,1)$.
<br>
It is useful also consider the module $\Z^2=\Z\oplus \Z$
over vectors $\e,\f$:
         $$
\Z^2=\{(m,n)=m\e+n\f\,\quad m,n\in\Z\}\,.
       \tag{1}
         $$
We assign to an arbitrary rational number  $p\over q$
the vector 
         $$
\E\left(p\over q\right)=q\e+p\f\,.
          (2a)
         $$
which belongs also to $\Z\oplus \Z$.
(We assume that $p,q$ are coprime)
<br>
   Let   $\a$  be non-negative real number and 
  let  $[a_0,a_1,\dots,]$ be its continuous fraction,
and  ${p_k\over q_k}$  be its $k$-th approximation:
            $$
  [a_0,\dots,a_k]={p_k\over q_k}
          \tag{2b}
            $$
(We assume that $p_k,q_k$ are coprime)
<br>
Consider vectors $\{\E_{-2},\E_{-1},\E_0.\E_1,\dots\}$
in $\Z^2$   defined by real number $\a$ in the following way:
            $$
\E_{-2}=\e,\quad  \E_{-1}=\f\,,
     \tag{3}
            $$
<b> Proposition</b> {``vytiagivanie nosov''}:  
for arbitrary $k$:
        $$
\E_{k+1}=\E_{k-1}+a_{k+1}\E_k\,. (k=-1,0,1,2,\dots)
        \tag{Prop}
        $$
Proof:
<br>
Instead Proposition we will prove the statement that
equation (Prop) survives up to collinearity:
<br>
  for arbitrary $k$:
        $$
[\E_{k+1}]=[\E_{k-1}+a_{k+1}\E_k]\,,
        \tag{Statement}
        $$
where  we  denote by $[{\bf t} ]$
the class of vectors collinear to the vector $\bf t$.
<br>
This statement seems to be weaker, but 
it implies the 
Proposition. Prove first that statement ($Statement$)
implies Proposition ($Prop$),
then we will prove statement ($Statement$)
<br>

<br>
Notice that formulae (2) define polynomials:
         $$
[a_0,a_1,\dots,a_k]=
     {
    p_k(a_0,a_1,\dots, a_k)
          \over
    q_k(a_0,a_1,\dots, a_k)
                   }\,.
         $$
E.g.
     $$
p_0=a_0,q_0=1,\quad
  q_1=a_1,p_1=a_0a_1+1\,,\quad
  q_2=a_1a_2+1,p_2=a_0a_1a_2+a_0+a_2\,, 
      $$
Equation ($Statement$) implies that
              $$
\E_{k+1}=\lambda \left(\E_{k-1}+a_{k+1}\E_k\right)
              $$
One can eassy to check that
   $\lambda =1$ for $k=-1$.
Assume by induction that this holds
for $k\leq m$.  
Left and right hand sides of this expression
are polynomials on $a_0,a_1,\dots, a_k,a_{k+1}$.
Comparing coefficients
at $a_{k+1}$ one can see that $\lambda=1$.
<br>
 
<br>
Now prove the statement.
<br>
Consider first small $k$
<br>
For $k=-1$:
$\E_0=q_0\e+p_0\f=\e+a_0\f$ and
         $$
[\E_0]=[\E_{-2}+a_0\E_{-1}]=[\e+a_0\f]\,.
         $$
This is true.
<br>
For $k=0$:
       $$
[\E_1]=[q_1\e+p_1\f]=
\left[\e+\left(a_0+{1\over a_1}\right)\f\right]=
\left[\left(\e+a_0\f\right)+{1\over a_1}\f\right]=
        $$
        $$
\left[\E_{-2}+a_0\E_{-1}+{1\over a_1}\f\right]=
\left[\E_0+{1\over a_1}\E_{-1}]=[a_1\E_0+\E_{-1}\right]\,.
         $$
This is true.
<br>
 
<br>
For $k=1$:
       $$
[\E_2]=[q_2\e+p_2\f]=
\left[\e+\left(a_0+{1\over a_1+{1\over a_2}}\right)\f\right]=
\left[\left(\e+a_0\f\right)+{1\over a_1+{1\over a_2}}\f\right]=
        $$
        $$
\left[\E_{-2}+a_0\E_{-1}+
{1\over a_1+{1\over a_2}}\E_{-1}\right]=
\left[\E_0+{1\over a_1+{1\over a_2}}\E_{-1}\right]=
\left[\left(a_1+{1\over a_2}\right)\E_0+\E_{-1}\right]=
         $$
         $$
\left[\E_{-1}+a_1\E_0+{1\over a_2}\E_0\right]=
\left[\E_1+{1\over a_2}\E_0\right]=
\left[a_2\E_1+\E_0\right]\,.
         $$
This is true.
<br>
and so on:
$$
[\E_{m}]=[q_{m}\e+p_{m}\f]=
\left[\e+\left[a_0,\dots,a_m\right]\f\right]=
\left[\e+\left(a_0+
  {1\over\left[a_1,\dots,a_m\right]}\right)\f\right]=
     $$
      $$
\left[\left(\e+a_0\f\right)+
  {1\over\left[a_1,\dots,a_m\right]}\f\right]=
\left[\E_0+
  {1\over\left[a_1,\dots,a_m\right]}\E_{-1}\right]=
\left[\left[a_1,\dots,a_m\right]\E_0+
  \E_{-1}\right]=
      $$
      $$
\left[\left(a_1+{1\over \left[a_2,\dots,a_m\right]}\right)\E_0+
  \E_{-1}\right]=
\left[a_1\E_0+\E_{-1}+{1\over \left[a_2,\dots,a_m\right]}\E_0
 \right]=
      $$    
       $$
\left[\E_{1}+{1\over \left[a_2,\dots,a_m\right]}\E_0
 \right]=
\left[\left[a_2,\dots,a_m\right]\E_{1}+
\E_0
 \right]=
       $$ 
        $$
\left[\left(a_2+{1\over \left[a_3,\dots,a_m\right]}\right)\E_{1}+
\E_0
 \right]=\left[a_2\E_1+\E_{0}+
{1\over \left[a_3,\dots,a_m\right]}\E_1
 \right]=
      $$    
       $$
\left[\E_{2}+{1\over \left[a_3,\dots,a_m\right]}\E_1
 \right]=
\left[\left[a_3,\dots,a_m\right]\E_{2}+
\E_1
 \right]=
       $$ 
        $$
\left[\left(a_3+{1\over \left[a_4,\dots,a_m\right]}\right)\E_{2}+
\E_1
 \right]=\left[a_3\E_2+\E_{1}+
{1\over \left[a_4,\dots,a_m\right]}\E_2
 \right]=
      $$     $$
\left[\E_{3}+{1\over \left[a_4,\dots,a_m\right]}\E_2
 \right]=
\left[\left[a_4,\dots,a_m\right]\E_{3}+
\E_2
 \right]=
       $$ 
         $$
\left[\left(a_4+
{1\over \left[a_5,\dots,a_m\right]}\right)\E_{3}+
\E_2
 \right]=\left[a_4\E_3+\E_{2}+
{1\over \left[a_5,\dots,a_m\right]}\E_3
 \right]=
      $$     $$
\left[\E_{4}+{1\over \left[a_5,\dots,a_m\right]}\E_3
 \right]=
\left[\left[a_5,\dots,a_m\right]\E_{4}+
\E_3
 \right]=\dots
       $$ 
      $$
 \left[ \E_{m-2}+{1\over \left[a_{m-1},a_m\right]}\E_{m-3}\right]=
 \left[\left[a_{m-1},a_m\right] \E_{m-2}+\E_{m-3}\right]=
      $$
        $$
 \left[\left(a_{m-1}+{1\over a_m}\right)\E_{m-2}+\E_{m-3}\right]=
 \left[a_{m-1}\E_{m-2}+\E_{m-3}+{1\over a_m}\E_{m-2}\right]=
          $$
           $$
 \left[ \E_{m-1}+{1\over a_m}\E_{m-2}\right]=
 \left[a_m \E_{m-1}+\E_{m-2}\right]\,.
      $$
</div>
  </div>
 </body>
</html>